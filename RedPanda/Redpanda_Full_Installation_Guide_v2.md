# Redpanda - Data Streaming Platform

## 📌 What is Streaming Data?

Streaming data refers to a continuous flow of data generated by various sources, such as applications, sensors, logs, or user activity. Unlike traditional batch data processing, streaming allows real-time or near-real-time processing, enabling systems to respond quickly to events.

Typical use cases include:
- Real-time analytics
- Log aggregation and monitoring
- Fraud detection
- Event-driven microservices

## 🐼 What is Redpanda?

[Redpanda](https://redpanda.com/) is a modern streaming data platform that is **Kafka API-compatible** but **faster, simpler, and more resource-efficient**. It is written in C++ and designed to replace Apache Kafka while reducing operational complexity and latency.

Key features:
- Kafka-compatible: Works with Kafka clients without requiring changes.
- No ZooKeeper: Simplified architecture and easier operations.
- Built-in HTTP Proxy and Schema Registry.
- Runs on-prem, in the cloud, or in Kubernetes.
- High-performance with low latency and high throughput.

---

## 🚀 Installing Redpanda on Kubernetes with Helm

### 🧱 Step 1: Add the Redpanda Helm Repository

```bash
helm repo add redpanda https://charts.redpanda.com
helm repo update
```

---

## ⚡ Step 2: Install with or without cert-manager

Redpanda Helm chart supports TLS certificates. By default, it expects `cert-manager`.  
You can install Redpanda **with cert-manager (TLS enabled)** or **without cert-manager (TLS disabled)**.

### 🔐 Option A: With cert-manager (Recommended)

You may encounter an error related to missing `Certificate` or `Issuer` resources:

```
Error: INSTALLATION FAILED: unable to build kubernetes objects from release manifest:
no matches for kind "Certificate" in version "cert-manager.io/v1"
```

To resolve this, install cert-manager:

```bash
helm repo add jetstack https://charts.jetstack.io
helm repo update

helm install cert-manager jetstack/cert-manager   --namespace cert-manager   --create-namespace   --version v1.13.3   --set installCRDs=true
```

Then proceed to install Redpanda as normal (see below).

---

### 🚫 Option B: Without cert-manager (TLS Disabled)

If you don’t have access to install `cert-manager` or want a simpler setup, you can disable TLS:

```bash
helm install redpanda redpanda/redpanda   --namespace a-dehghani   --create-namespace   --version 25.1.1   --set tls.enabled=false
```

---

## 📦 Step 3: Install Redpanda (Multiple Methods)

You can install Redpanda in several ways:

### 🔧 Method A: Using a `values.yaml` File

Create a file named `redpanda-values.yaml`:

```yaml
image:
  repository: docker.redpanda.com/redpandadata/redpanda

storage:
  persistentVolume:
    size: 1Gi

statefulset:
  replicas: 1

tls:
  enabled: false   # Disable if cert-manager not available
```

Then install with:

```bash
helm install redpanda redpanda/redpanda   --namespace a-dehghani   --version 25.1.1   --values redpanda-values.yaml
```

---

### ⚙️ Method B: Using `--set` Flags Directly

```bash
helm install redpanda redpanda/redpanda   --namespace a-dehghani   --version 25.1.1   --set image.repository=docker.redpanda.com/redpandadata/redpanda   --set storage.persistentVolume.size=1Gi   --set statefulset.replicas=1   --set tls.enabled=false
```

---

### 📂 Method C: Using a Downloaded `.tgz` Package

If you downloaded `redpanda-25.1.1.tgz` from [ArtifactHub](https://artifacthub.io/), you can install directly without adding the repo:

```bash
helm install redpanda ./redpanda-25.1.1.tgz   --namespace a-dehghani   --values redpanda-values.yaml
```

This method is useful in restricted environments where you cannot access external repositories.

---

## 🧪 Testing Redpanda Inside the Pod

Once installed, you can test Redpanda using the built-in `rpk` CLI inside a pod.

### 1. Get inside the Redpanda pod

```bash
kubectl exec -it -n a-dehghani redpanda-0 -- bash
```

### 2. Create a topic

```bash
rpk topic create test-topic
```

### 3. List topics

```bash
rpk topic list
```

### 4. Produce a message

```bash
rpk topic produce test-topic
```
(Type a message and press **Ctrl+D** to send)

### 5. Consume a message

```bash
rpk topic consume test-topic --num 1
```

### 6. Cluster status

```bash
rpk cluster info
```

---

## 🧠 Summary

Redpanda is a powerful, Kafka-compatible streaming platform. To deploy it on Kubernetes:

1. Add the Redpanda Helm repo or use a `.tgz` chart.
2. Choose whether to install with `cert-manager` (TLS) or without (simple/no TLS).
3. Install Redpanda using either `values.yaml`, `--set` flags, or a downloaded package.
4. Test your deployment with `rpk` inside the pod.

This setup provides a strong foundation for high-performance data streaming workloads.
